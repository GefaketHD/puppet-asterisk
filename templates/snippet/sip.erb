; THIS FILE IS MANAGED BY PUPPET
; all local modifications will be lost
[<%= @name %>]
<% if @template_name -%>
(<%= @template_name %>)
<% end -%>
<% if @account_type -%>
type=<%= @account_type %>
<% end -%>
<% if @username -%>
username=<%= @username %>
<% end -%>
<% if @defaultuser -%>
defaultuser=<%= @defaultuser %>
<% end -%>
<% if @secret -%>
secret=<%= @secret.unwrap %>
<% end -%>
<% if @md5secret -%>
md5secret=<%= @md5secret %>
<% end -%>
<% if @remotesecret -%>
secret=<%= @remotesecret.unwrap %>
<% end -%>
<% if @context -%>
context=<%= @context %>
<% end -%>
<% if @canreinvite -%>
canreinvite=<%= @canreinvite %>
<% end -%>
<% if @host -%>
host=<%= @host %><% end%>
<% if @insecure -%>
insecure=<%= @insecure %>
<% end -%>
<% if @language -%>
language=<%= @language %>
<% end -%>
<% if @nat -%>
nat=<%= @nat %>
<% end -%>
<% if @qualify -%>
qualify=<%= @qualify %>
<% end -%>
<% if @vmexten -%>
vmexten=<%= @vmexten %>
<% end -%>
<% if @fromdomain -%>
fromdomain=<%= @fromdomain %>
<% end -%>
<% if @fromuser -%>
fromuser=<%= @fromuser %>
<% end -%>
<% if @account_type == 'peer' and @outboundproxy -%>
outboundproxy=<%= @outboundproxy %>
<% end -%>
<% if @callerid -%>
callerid=<%= @callerid %>
<% end -%>
<% if @calllimit -%>
call-limit=<%= @calllimit %>
<% end -%>
<% if @callgroup -%>
callgroup=<%= @callgroup %>
<% end -%>
<% if @t38pt_udptl -%>
t38pt_udptl=<%= @t38pt_udptl %>
<% end -%>
<% if @mailbox -%>
mailbox=<%= @mailbox %>
<% end -%>
<% if @pickupgroup -%>
pickupgroup=<%= @pickupgroup %>
<% end -%>
<% for dproto in @disallow -%>
disallow=<%= dproto %>
<% end -%>
<% for aproto in @allow -%>
allow=<%= aproto %>
<% end -%>
<% if @dtmfmode -%>
dtmfmode=<%= @dtmfmode %>
<% end -%>
<% if ! @transports.empty? -%>
transport=<%= @transports.join(',') %>
<% end -%>
<% if @encryption -%>
encryption=<%= @encryption %>
<% end -%>
<% for denyip in @deny -%>
deny=<%= denyip %>
<% end -%>
<% for permitip in @permit -%>
permit=<%= permitip %>
<% end -%>
